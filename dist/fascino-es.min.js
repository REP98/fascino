/**
	* Fascino  
	* @version v1.0.1
	* @copyright 2021-2022 Robert Pérez.
	* @author Robert Pérez delfinmundo@gmail.com
	* 
	* @license Licensed under MIT
	*/
import e from'camelcase';function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if('undefined'!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e['@@iterator'])return Array.from(e)}(e)||function(e,n){if(e){if('string'==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return'Object'===r&&e.constructor&&(r=e.constructor.name),'Map'===r||'Set'===r?Array.from(e):'Arguments'===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e)||function(){throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}()}function r(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,'prototype',{writable:!1}),e}function o(e){if(void 0===e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return e}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function s(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function');e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,'prototype',{writable:!1}),t&&u(e,t)}function c(e){return c='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?e=>typeof e:e=>e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e,c(e)}function l(e,t){if(t&&('object'===c(t)||'function'==typeof t))return t;if(void 0!==t)throw new TypeError('Derived constructors may only return object or undefined');return o(e)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=e,p=String.prototype.valueOf,m=Object.prototype.toString,y=function(e){try{return p.call(e),!0}catch(e){return!1}},g=Object.defineProperty,b=Object.getOwnPropertyDescriptor,w=Array.isArray;function E(e,t){g&&'__proto__'===t.name?g(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue}function k(e,t){if('__proto__'===t){if(!M(e,t))return;if(b)return b(e,t).value}return e[t]}function _(){for(var e,t,n,r,i,a,o,u,s,l=0,h=arguments.length,f=new Array(h),d=0;d<h;d++)f[d]=arguments[d];if(0!==f.length){for(o=f[0],l=f.length,s=1,u=!1,'boolean'==typeof o&&(u=o,o=f[1]||{},s=2),(D(o)||'object'!==c(o)&&'function'!=typeof o)&&(o={});s<l;++s)if(null!==f[s])for(t in e=f[s])M(e,t)&&(n=k(o,t),o!==(r=k(e,t))&&(i=S(r),u&&r&&(N(r)||i)?(i?(i=!1,a=n&&S(n)?n:[]):a=n&&N(n)?n:{},E(o,{name:t,newValue:_(u,a,r)})):j(r)||E(o,{name:t,newValue:r})));return o}}function x(e){var t='function'==typeof Symbol&&'symbol'===c(Symbol.toStringTag);return'string'==typeof e||'object'===c(e)&&(t?y(e):'[object String]'===m.call(e))}function N(e){var t;return!(!e||'[object Object]'!==m.call(e))&&(!(t=void 0!==e.prototype)||t.constructor&&'function'==typeof t.constructor)}function S(e){return!!e&&(e instanceof Array||w(e)||e.length>=0&&e.splice instanceof Function)}function O(e){return'number'==typeof e?e-e==0:'string'==typeof e&&''!==e.trim()&&(Number.isFinite?Number.isFinite(+e):isFinite(+e))}function A(e){if(!e)return!1;var t=m.call(e);return'[object Function]'===t||'function'==typeof e&&'[object RegExp]'!==t||'undefined'!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function T(e){return!(D(e)||!A(e.toString))&&e.toString()}function I(e){if(!x(e))return!1;try{document.querySelector(e)}catch(e){return!1}return!0}function D(e){var t=[void 0,null,!1,0,0,'','0','0.0',undefined],n=t.length;if(void 0===e)return!0;for(var r=0;r<n;r++)if(e===t[r])return!0;if(S(e))return 0===e.length;if(N(e)){var i=0;for(var a in e)M(e,a)&&i++;return 0===i}return!1}function j(e){return null==e}function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'';if(!D(e)&&H(e)){if(D(t)||0!==t.indexOf(':')||(n=t,t=void 0),D(t))return window.getComputedStyle(e,n);if(S(t)){var r={},i=window.getComputedStyle(e,n);return t.forEach((e=>{r[e]=i[e]})),r}var a=window.getComputedStyle(e,n);return a[t]}}function H(e){return!D(e)&&(x(e)?I(e):e instanceof HTMLElement||'object'===c(e)&&1===e.nodeType&&x(e.nodeName))}function L(e){return!D(e)&&(!(!e.constructor||'FASCINO'!==e.constructor.name.toUpperCase())||M(e,'Elem'))}function R(e){if(D(e))return!1;var t=H(e)?I(e)?document.querySelector(e):e:null;if(D(t))return!1;for(var n=document.querySelector('body'),r=document.querySelector('html');t&&t!==n&&t!==r;){var i=C(t,['display','opacity','visibility']);if('none'===i.display)return!1;if('0'===T(i.opacity))return!1;if('hidden'===i.visibility)return!1;t=t.parentNode}return!0}function P(e){return e instanceof URL||/(http|https|ftp):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)}function F(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e}function q(e,t,n){if(!D(e)){if('function'==typeof e.forEach)return e.forEach(t,n);if(!A(t))return e;var r,i,a=Object(e),o=a.length>>>0;for(i in 0===o&&N(a)&&(o=Object.keys(a).length),D(n)||(r=n),a)if(M(a,i)){var u=a[i];t.call(r,u,i,a)}}}function B(e){var t,n=document.createElement('script');return n.type='text/javascript',D(e)?_$(n):(D((t=_$(e).Elem[0]).src)?n.textContent=t.innerText:n.src=t.src,document.body.appendChild(n),t.parentNode&&t.parentNode.removeChild(t),n)}function U(e){if(D(e))return B();var t=_$(e).Elem[0];t.tagName&&'SCRIPT'===t.tagName?B(t):_$(t).find('script').each((e=>{B(e)}))}function z(e){var t,n,r,i,a=[];if('string'!=typeof e)return[];if(e=e.trim(),(t=(r=document.implementation.createHTMLDocument('')).createElement('base')).href=document.location.href,r.head.appendChild(t),i=r.body,n=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i.exec(e))a.push(document.createElement(n[1]));else{i.innerHTML=e;for(var o=0;o<i.childNodes.length;o++)a.push(i.childNodes[o])}return a}function V(e){return'string'!=typeof e?void 0:e.replace(/-/g,'').toLowerCase()}function W(e){try{return JSON.parse(e)}catch(t){return e}}function J(e){var t;return x(e)?t=I(e)?_$(e):z(e):H(e)?t=[e]:(L(e)||S(e))&&(t=e),t}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:' ';return D(e)?[]:-1===e.indexOf(t)?[e]:S(e)?e:e.split(t)}function Y(e){var t=document.createElement('a');return t.href=e,!j(t.href)&&P(t.href)?t.href:e}var X=Object.freeze({__proto__:null,camelCase:v,strValue:p,toStr:m,tryStringObject:y,defineProperty:g,gOPD:b,isArray:w,setPropertyObj:E,getProperty:k,extend:_,isString:x,isObject:N,isArrayish:S,isNumber:O,isFunction:A,hasProp:M,toString:T,isSelector:I,empty:D,not:j,getStyleComputed:C,isElement:H,isFascinoElement:L,isVisible:R,isHiden:function(e){return e.hidden||!R(e)},isURL:P,merge:F,each:q,createScript:B,script:U,parseHTML:z,normName:V,formatBytes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return'0 Bytes';var n=1024,r=t<0?0:t,i=['Bytes','KB','MB','GB','TB','PB','EB','ZB','YB'],a=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,a)).toFixed(r))+' '+i[a]},setOptionsOfData:function(e,t){var n={};return q(_$(e).data(),((e,r)=>{if(M(t,r))try{n[r]=JSON.parse(e)}catch(t){n[r]=e}})),_({},t,n)},random:function(e,t){if(null==e&&null==t)return Math.random();if(null==e||null==t){var n=e||t;return Math.floor(Math.random()*n)}return Math.floor(Math.random()*(t-e))+e},randomMap:function(e){if(D(e))return-1;if(S(e))return e[Math.floor(Math.random()*e.length)];if(N(e)){var t=Object.keys(e);return e[t[Math.floor(Math.random()*t.length)]]}return-1},normalizeData:W,normalizeElements:J,uniqueId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'fs',t=(new Date).getTime();return(''!==e?e+'-':'')+'xxxx-xxxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,(e=>{var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),('x'===e?n:3&n|8).toString(16)}))},htmlEntities:function(e){return String(e).replace(/</g,'&lt;').replace(/>/g,'&gt;').replace('/"/g','&quot;')},cleanPreCode:function(e){var t,n,r,i=e.replace(/^[\r\n]+/,'').replace(/\s+$/g,''),a=/^[\t ]+/gm,o=1e3;if(/^\S/gm.test(i))return i;for(;t=a.exec(i);)(r=t[0].length)<o&&(o=r,n=t[0]);return 1e3!==o?i.replace(new RegExp('^'+n,'gm'),'').trim():void 0},strToArr:G,createURI:Y,url:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};P(e)||(e=Y(e));var n=new URL(e);return Object.keys(t).forEach((e=>n.searchParams.append(e,t[e]))),n},jsonToFormdata:function(e){if(!N(e))return null;var t=new FormData;return q(e,((e,n)=>{t.append(v(n),e)})),t}}),Z=-1,K=function(){function e(){r(this,e),this.UID='FSData',Z++,this.ID=Z}return a(e,[{key:'acceptData',value:function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}},{key:'acceptDataSet',value:function(e){return this.acceptData(e)&&!j(e.dataset)}},{key:'storage',value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e[this.UID];return n||(n={},this.acceptData(e)&&(e.nodeType?e[this.UID]=n:g(e,this.UID,{value:n,configurable:t}))),n}},{key:'set',value:function(e,t,n){var r=this.storage(e);if(x(t))r[v(t)]=n;else for(var i in t)M(t,i)&&(r[v(i)]=t[i]);return r}},{key:'get',value:function(e,t){return j(t)?this.storage(e):!(!e[this.UID]||!e[this.UID][t])&&e[this.UID][t]}},{key:'access',value:function(e,t,n){return j(t)||t&&x(t)&&j(n)?this.get(e,t):(this.set(e,t,n),j(n)?t:n)}},{key:'has',value:function(e,t){return j(t)?!j(this.storage(e)):!1!==this.get(e,t)||!(!e.hasAttributes||!e.hasAttributes('data-'.concat(t)))&&e.getAttribute('data-'.concat(t))}},{key:'remove',value:function(e,t){var n,r=e[this.UID];if(!j(r)){if(!j(t)){n=(t=S(t)?t.map(v):(t=v(t))in r?[t]:t.match(/[^\x20\t\r\n\f]+/g)||[]).length;for(;n--;)delete r[t[n]]}return j(t)&&j(r)&&(e.nodeType?e[this.UID]=void 0:delete e[this.UID]),!0}if(!j(this.data(e))&&(this.remove(e,t),this.acceptDataSet(e)))for(attrs=e.attributes,n=attrs.length;n--;)if(attrs[n]){var i=attrs[n].name;0===i.indexOf('data-')&&e.removeAttribute(i)}}},{key:'attrToStorage',value:function(e,t,n){var r;return D(n)&&1===e.nodeType&&(r='data-'+t.replace(/[A-Z]/g,'-$&').toLowerCase(),'string'==typeof(n=e.getAttribute(r))?(n=W(n),this.set(e,t,n)):n=void 0),n}},{key:'data',value:function(e){for(var t,n,r,i,a=this,o=arguments.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=arguments[s];if(j(e.length)?(i=e,e=[e]):i=e[0],0===u.length){if(t=this.get(i),this.acceptDataSet(i))for(r=(n=i.attributes).length;r--;)if(n[r]){var c=n[r].name;0===c.indexOf('data-')&&(c=v(c.slice(5)),this.attrToStorage(i,c,t[c]))}return t}if(1===u.length){if(S(u[0])){var l={},h=0;return q(e,(e=>{var t=e.getAttribute('id'),n=j(t)?i.tagName+h:t;u[0].forEach((t=>{l[n]=l[n]||{};var r=a.get(e,t);j(r)&&1===e.nodeType&&(r=W(r=e.hasAttributes('data-'.concat(t))?e.getAttribute('data-'.concat(t)):r)),l[n][t]=r})),h++})),l}if(N(u[0]))return q(e,(e=>{for(var t in u[0])if(M(u[0],t)){var n=W(u[0][t]);a.set(e,t,n)}}));if(x(u[0])){var f=this.get(i,u[0]);return f&&!j(f)||1===i.nodeType&&(f=W(f=i.hasAttributes('data-'.concat(u[0]))?i.getAttribute('data-'.concat(u[0])):f)),f}}return q(e,(e=>{a.set(e,u[0],u[1])}))}}]),e}(),Q=['blur','focus','resize','scroll','click','dblclick','mousedown','mouseup','mousemove','mouseover','mouseout','mouseenter','mouseleave','change','select','submit','keydown','keypress','keyup','contextmenu','touchstart','touchend','touchmove','touchcancel'],ee=function(){function e(){r(this,e),f(this,'_ds',new K),f(this,'_eventName','fsEvent')}return a(e,[{key:'_add',value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.addEventListener(t,n,r)}},{key:'_remove',value:function(e,t,n,r){return j(r)&&(r=!0),e.removeEventListener(t,n,r)}},{key:'_dispatch',value:function(e,t){return e.dispatchEvent(t)}},{key:'_createEvent',value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=M(n,'detail')?_({},{bubbles:!0,cancelable:!0,detail:null},n):{bubbles:!0,cancelable:!0,detail:n},new CustomEvent(e,t)}},{key:'_setData',value:function(e,t,n){if(this._ds.acceptData(e)&&e.self!==window){var r=this._ds.has(e,this._eventName)?this._ds.get(e,this._eventName):this._ds.access(e,this._eventName,{}),i=v(t);G(t,'.');var a={};return a[this._eventName]=r,a[this._eventName][i]=i in r==!0?a[this._eventName][i]:[],a[this._eventName][i].push(n),this._ds.set(e,a)}}},{key:'_getData',value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=this._ds.get(e,this._eventName);return j(r)?{}:j(t)?r:(t=v(t))in r!=!1&&(-1===n?r[t]:r[t][n])}},{key:'_hasData',value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(this._ds.has(e,this._eventName)){var r=this._ds.get(e,this._eventName);if(!D(r)&&v(t)in r)return!(n>-1)||r[v(t)].indexOf(n)>-1}return!1}},{key:'_removeData',value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(this._ds.has(e,this._eventName)){var r=this._getData(e,t,n);if(j(t))return this._ds.set(e,this._eventName,{}),!0;var i=v(t);if(i in r)return n>-1?delete r[i][n]:delete r[i],this._ds.set(e,this._eventName,d),this}return!1}},{key:'_off',value:function(e){return this._ds.remove(e,this._eventName),this}},{key:'_getNS',value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.shift(),r=e.join('.');return t?r:{name:n,ns:r}}},{key:'getEvents',value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return this._getData(e,t,n)}},{key:'on',value:function(e,t,n,r,i){var a=this;return j(e)?this:(A(n)&&(i=r,r=n,n=void 0),N(i)||(i={}),G(t,' ').forEach((o=>{var u=G(o,'.'),s=a._getNS(u,!1),c=s.ns,l=s.name,h=function(o){var u=o.target;if(n)for(;u&&u!==e;){if(Element.prototype.matches.call(u,n)&&(r.call(u,o),o.isPropagationStopped)){o.stopImmediatePropagation();break}u=u.parentNode}else r.call(e,o);j(i.once)||a.off(e,t,n,i)};g(h,'name',{value:r.name&&''!==r.name?r.name:'func_event_'.concat(l,'_').concat(j(c)?(new Date).getTime():c)});var f=Q.indexOf(l)>-1?l:o;a._add(e,f,h,!j(i.capture)&&i.capture),a._setData(e,o,{event:o,handler:h,selector:n,ns:c,options:!j(i)&&i})})),e)}},{key:'one',value:function(e,t,n,r,i){return N(i)||(i={}),i.once=!0,this.on.apply(this,[e,t,n,r,i])}},{key:'off',value:function(e,t,n,r){var i=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;N(n)&&(r=n,n=null),isNaN(r)||(a=r,r={}),N(r)||(r={});var o=this._getData(e);if(j(t)||'all'===t.toLowerCase()||'*'===t){var u=(()=>{var t=i;if(o){for(var n in o){if(M(o,n))o[n].forEach((n=>{t._remove(e,n.event,n.handler,n.options)}))}i._off()}return{v:e}})();if('object'===c(u))return u.v}var s=G(t,' ');return s.forEach((t=>{var n=G(t,'.'),u=n.length>1?i._getNS(n,!0):{name:n[0],ns:''},s=V(u.name);if(r.ns?r.ns:u.ns,M(o,s)){var c=o[s][a];i._remove(e,c.event,c.handler,c.options),i._removeData(e,t,a)}})),e}},{key:'fire',value:function(e,t){return this._dispatch(e,t)}},{key:'createEv',value:function(e,t){return this._createEvent(e,t)}}]),e}();function te(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(()=>{}))),!0}catch(e){return!1}}function ne(e,t,n){return ne=te()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&u(i,n.prototype),i},ne.apply(null,arguments)}function re(e){var t='function'==typeof Map?new Map:void 0;return re=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf('[native code]')))return e;var n;if('function'!=typeof e)throw new TypeError('Super expression must either be null or a function');if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ne(e,arguments,h(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)},re(e)}function ie(e){var t=function(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(()=>{}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}var ae=function(e){s(n,re(Error));var t=ie(n);function n(){var e;r(this,n);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return e=t.call.apply(t,[this].concat(a)),Error.captureStackTrace&&Error.captureStackTrace(o(e),n),e.name='SelectorError',e}return a(n)}(),oe=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return r(this,e),this.Elem=Array.from(''),this.context=n,D(t)||(x(t)&&(t=t.trim()),this.sel(t)),this}return a(e,[{key:'mergeEl',value:function(e){var t=this;D(e)||void 0!==e.length?e.self===window&&(e=[e]):e=[e];var n=[].slice.call(e);n.length>0&&n.forEach((e=>{t.Elem.push(e)}))}},{key:'sel',value:function(e){if(A(e))return document.addEventListener('DOMContentLoaded',e,!1),this;if(e instanceof Element)return this.mergeEl([e]),this;if(e instanceof NodeList)return this.mergeEl(e),this;if(e instanceof HTMLCollection){var t=Array.from(e);return this.mergeEl(t),this}if(N(e)&&M(e,'Elem'))return this.mergeEl(e.Elem),this;switch(e){case'window':e=window;break;case'document':e=document;break;case'body':e=document.body;break;case'html':case':root':e=document.documentElement;break;case'doctype':e=document.doctype}if(e&&(e.nodeType||e.self===window))return this.mergeEl(e),this;if(S(e))return M(e,'_prevObj')&&(this._prevObj=e._prevObj),this.mergeEl(e),this;if('string'!=typeof e&&e.self&&e.self!==window)return this;var n=z(e);if(1===n.length&&3===n[0].nodeType)try{var r=this.querySelector(e);if(0===r.length)return this;this.mergeEl(r)}catch(t){throw new ae('\nFascino:\n '.concat(e,' is not a valid selector'))}else n.length>0?this.mergeEl(n):this.mergeEl(e);return this}},{key:'querySelector',value:function(e){var t=this.context||document;return t.querySelectorAll(e).length>1?t.querySelectorAll(e):null!=t.querySelector(e)?[t.querySelector(e)]:[]}}]),e}(),ue='1.0.1';function se(e){var t=function(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(()=>{}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var ce=['blur','focus','resize','scroll','click','dblclick','mousedown','mouseup','mousemove','mouseover','mouseout','mouseenter','mouseleave','change','select','submit','keydown','keypress','keyup','contextmenu','touchstart','touchend','touchmove','touchcancel'];function le(e,t){return new he(e,t)}var he=function(e){s(i,oe);var t=se(i);function i(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return r(this,i),f(o(n=t.call(this,e,a)),'_ds',new K),f(o(n),'_ev',new ee),n.name='FascinoJS',n.length=n.Elem.length,n.version=ue,1==n.length&&(n.events=n.getEvent()),n}return a(i,[{key:'_is',value:function(e){var t=!1;return this.each((n=>{t=n[e]})),t}},{key:'_prop',value:function(e,t){return 0===this.length?this:1===arguments.length?e in this.Elem[0]?this.Elem[0][e]:void 0:(D(t)&&(t=''),this.each((n=>{n[e]=t,'innerHTML'===e&&U(n)})))}},{key:'_setOptions',value:function(e,t){if(!D(t))for(var n in t)if(M(t,n)){var r=t[n];M(this,n)&&le(e)[n].apply(this,r)}}},{key:'_sizeOut',value:function(e,t){var n,r,i,a;if(0!==this.length)return D(t)||'boolean'==typeof t?(r=(n=this.Elem[0])['width'===e?'offsetWidth':'offsetHeight'],i=C(n),a=r+parseInt(i['width'===e?'margin-left':'margin-top'])+parseInt(i['width'===e?'margin-right':'margin-bottom']),!0===t?a:r):this.each((n=>{if(n!==window&&n!==document){var r,i=C(n),a='width'===e?parseInt(i['border-left-width'])+parseInt(i['border-right-width']):parseInt(i['border-top-width'])+parseInt(i['border-bottom-width']),o='width'===e?parseInt(i['padding-left'])+parseInt(i['padding-right']):parseInt(i['padding-top'])+parseInt(i['padding-bottom']);r=le(n)[e](t)[e]()-a-o,n.style[e]=r+'px'}}))}},{key:'_size',value:function(e,t){if(0===this.length)return NaN;if(D(t)){var n=this.Elem[0];if('height'===e)return n===window?window.innerHeight:n===document?n.body.clientHeight:parseInt(getComputedStyle(n).height);if('width'===e)return n===window?window.innerWidth:n===document?n.body.clientWidth:parseInt(getComputedStyle(n).width)}return this.each((n=>{n!==window&&n!==document&&(n.style[e]=isNaN(t)?t:t+'px')}))}},{key:'each',value:function(){var e;return(e=this.Elem).forEach.apply(e,arguments),this}},{key:'matches',value:function(e){var t=[];return this.each((n=>{n.matches(e)&&t.push(n)})),t}},{key:'map',value:function(e){return this.Elem.map(e)}},{key:'merge',value:function(e){return F(this.Elem,e),this}},{key:'index',value:function(e,t){var n=this.Elem[0],r=-1;return e=D(e)?n.parentNode():J(e),(D(t)?le(e).children():le(e).find(t)).each(((e,t)=>{e===n&&(r=t)})),r}},{key:'get',value:function(e){return j(e)?this.Elem:e<0?this.Elem[e+this.length]:this.Elem[e]}},{key:'eq',value:function(e){return!isNaN(e)&&this.length>0?_(le(this.get(e)),{_prevObj:this}):this}},{key:'last',value:function(){return this.eq(this.length-1)}},{key:'first',value:function(){return this.eq(0)}},{key:'filter',value:function(e){if(x(e)){var t=e;e=function(e){return e.matches(t)}}return _(F(le().Elem,[].filter.call(this.Elem,e)),{_prevObj:this})}},{key:'odd',value:function(){return _(this.filter(((e,t)=>t%2==0)),{_prevObj:this})}},{key:'even',value:function(){return _(this.filter(((e,t)=>t%2!=0)),{_prevObj:this})}},{key:'find',value:function(e){var t=Array.from('');return this.Elem.forEach((r=>{var i;t.push((i=[]).concat.apply(i,n(Element.prototype.querySelectorAll.call(r,e))))})),0===t.length?[]:1===t.length?le(t[0]):F(le().Elem,t)}},{key:'contains',value:function(e){return this.find(e).length>0}},{key:'children',value:function(e){var t,r,i=this.Elem[0];return D(e)?(r=[]).concat.apply(r,n(i.children)):(t=[]).concat.apply(t,n(i.children)).filter((t=>t.matches(e)))}},{key:'is',value:function(e){var t=!1;return 0!==this.length&&(e&&M(e,'Elem')&&this.each((n=>{e.each((e=>{n!==e||(t=!0)}))})),x(e)?':selected'===e?t=this._is('selected'):':checked'===e?t=this._is('checked'):':visible'===e?this.each((e=>{R(e)&&(t=!0)})):':hidden'===e?this.each((e=>{('hidden'===e.getAttribute('type')||isHiden(e))&&(t=!0)})):':disabled'===e?this.each((e=>{(e.getAttribute('disabled')||_$(e).hasClass('disabled'))&&(t=!0)})):':readonly'===e?this.each((e=>{(e.getAttribute('readonly')||_$(e).hasClass('readonly'))&&(t=!0)})):this.each((n=>{(n.matches(e)||Element.prototype.matches.call(n,e))&&(t=!0)})):S(e)?this.each((n=>{e.forEach((e=>{n===e&&(t=!0)}))})):1===e.nodeType&&this.each((n=>{n===e&&(t=!0)})),t)}},{key:'prop',value:function(e,t){return 1===arguments.length?this._prop(e):this._prop(e,D(t)?'':t)}},{key:'append',value:function(e,t){if(0===this.length)return this;var n=J(e);return this._setOptions(n,t),this.each((e=>{le(n).each(((t,n)=>{if(t!==e){var r=0===n?t:t.cloneNode(!0);U(r),r.tagName&&'SCRIPT'!==r.tagName&&e.append(r)}}))}))}},{key:'appendTo',value:function(e,t){if(0===this.length)return this;var n=J(e);return this._setOptions(n,t),this.each((e=>{le(n).each(((t,n)=>{if(e===t)return t;t.append(0===n?e:e.cloneNode(!0))}))}))}},{key:'prepend',value:function(e,t){if(0===this.length)return this;var n=J(e);return this._setOptions(n,t),this.each(((e,t)=>{le(n).each((n=>{if(e!==n){var r=0===t?n:n.cloneNode(!0);U(r),r.tagName&&'SCRIPT'!==r.tagName&&e.prepend(r)}}))}))}},{key:'prependTo',value:function(e,t){if(0===this.length)return this;var n=J(e);return this._setOptions(n,t),this.each((e=>{le(n).each(((t,n)=>{if(e===t)return t;le(t).prepend(0===n?e:e.cloneNode(!0))}))}))}},{key:'clone',value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];return j(e)&&(e=!1),this.each((n=>{var r=n.cloneNode(e);t.push(r)})),F(le().Elem,t)}},{key:'import',value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=[];return j(e)&&(e=!0),this.each((n=>{t.push(document.importNode(n,e))})),F(le().Elem,t)}},{key:'adopt',value:function(){var e=[];return this.each((t=>{e.push(document.adoptNode(t))})),F(le().Elem,e)}},{key:'contents',value:function(){if(0===this.length)return this;var e=[];return this.each((t=>{var n;'IFRAME'===t.nodeName?n=t.contentDocument||t.contentWindow.document:'TEMPLATE'===t.nodeName&&(n=t.content),e.push(n)})),F(le().Elem,e)}},{key:'parents',value:function(e){var t=[];return this.each((n=>{for(var r=n.parentNode;r&&r.nodeType===Node.ELEMENT_NODE&&3!==r.nodeType;)r.matches(e)&&t.push(r),r=r.parentNode})),le(t)}},{key:'parent',value:function(){var e=[];return this.each((t=>{e.push(t.parentNode)})),le(e)}},{key:'prev',value:function(e){var t=this.Elem[0].previousElementSibling;if(D(e))return le(t);for(;t;){if(t.matches(e))return le(t);t=t.previousElementSibling}return[]}},{key:'next',value:function(e){var t=this.Elem[0].nextElementSibling;if(D(e))return le(t);for(;t;){if(t.matches(e))return le(t);t=t.nextElementSibling}return[]}},{key:'closest',value:function(e){if(0===this.length)return this;if(!e)return this.parent(e);var t=[];return this.each((n=>{if('closest'in n)t.push(n.closest(e));else for(;n&&n;){if(n.matches(e))return void t.push(n);n=n.parentElement}})),t}},{key:'emptyHtml',value:function(){return this.each((e=>{e.innerHTML=''}))}},{key:'emptyVal',value:function(){return this.each((e=>{e.value=''}))}},{key:'wrap',value:function(e){if(0!==this.length){var t=le(J(e));if(t.length){var n=[];return this.each((e=>{var r,i;for((i=le(t.clone(!0))).insertBefore(e),r=i;r.children().length;)r=r.children().eq(0);r.append(e),n.push(i.eq(0))})),le(n)}}}},{key:'wrapAll',value:function(e){var t,n,r;if(0!==this.length&&(t=le(J(e))).length){for((n=le(t.clone(!0))).insertBefore(this.Elem[0]),r=n;r.children().length;)r=r.children().eq(0);return this.each((e=>{r.append(e)})),n}}},{key:'wrapInner',value:function(e){if(0!==this.length){var t=le(J(e));if(t.length){var n=[];return this.each((e=>{var r=le(e),i=r.html(),a=le(t.clone(!0));r.html(a.html(i)),n.push(a)})),le(n)}}}},{key:'unwrap',value:function(){return this.each((e=>{for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}))}},{key:'remove',value:function(e){var t,r=D(e)?this.Elem:this.Elem.filter((t=>t.matches(e))),i=[];return r.forEach((e=>{i.push(e.parentNode.removeChild(e))})),(t=[]).concat.apply(t,n(this.Elem).concat(i))}},{key:'insertBefore',value:function(e){var t=le(e);return this.each((e=>{t.each(((t,n)=>{if(t!==e){var r=t.parentNode;r&&r.insertBefore(0===n?e:e.cloneNode(!0),t)}}))}))}},{key:'insertAfter',value:function(e){var t=le(e);return this.each((e=>{t.each(((t,n)=>{if(t!==e){var r=t.parentNode;r&&r.insertBefore(0===n?e:e.cloneNode(!0),t.nextSibling)}}))}))}},{key:'after',value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'afterbegin';return this.each((n=>{x(e)?n.insertAdjacentHTML(t,e):le(e).insertAfter(n)}))}},{key:'before',value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'beforebegin';return this.each((n=>{x(e)?n.insertAdjacentHTML(t,e):le(e).insertBefore(n)}))}},{key:'text',value:function(e){return D(e)?this._prop('textContent'):this._prop('textContent',e)}},{key:'html',value:function(e){var t,r=[];if(0===this.length)return this;if(''===e)return this._prop('innerHTML','');if(D(e))return this._prop('innerHTML');if(Array.isArray(e))r=(t=[]).concat.apply(t,n(r).concat(n(e)));else if(e instanceof Element||L(e)){var i,a=[];(e instanceof Element?le(e):e).each((e=>{a.push(le(e).outerHTML())})),r=(i=[]).concat.apply(i,n(r).concat(a))}else r.push(e);return this._prop('innerHTML',1===r.length&&D(r[0])?'':r.join('\n')),this}},{key:'val',value:function(e){return j(e)?0===this.length?void 0:this._prop('value'):this.each((t=>{void 0!==t.value?t.value=e:le(t).html(e)}))}},{key:'outerHTML',value:function(){return this._prop('outerHTML')}},{key:'addClass',value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.each((e=>{var n;(n=e.classList).add.apply(n,t)}))}},{key:'removeClass',value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.each((e=>{var n;(n=e.classList).remove.apply(n,t)}))}},{key:'toggleClass',value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.each((e=>{var n;(n=e.classList).toggle.apply(n,t)}))}},{key:'replaceClass',value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.each((e=>{var n;(n=e.classList).replace.apply(n,t)}))}},{key:'hasClass',value:function(e){return this.Elem[0].classList.contains(e)}},{key:'style',value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===this.length)return this;if(0===t.length)return getComputedStyle(this.Elem[0]);if(1===t.length){if(S(t[0])){var r={},i=0;return this.each((e=>{var n=e.getAttribute('id'),a=D(n)?e.tagName+i:n;r[a]={},t[0].forEach((t=>{r[a][t]=e.style[t]})),i++})),r}if(N(t[0]))return this.each((e=>{for(var n in t[0])if(M(t[0],n)){var r=t[0][n];e.style.setProperty(n,r)}}));if(0===t[0].indexOf(':'))return C(this.Elem[0],null,t[0]);if('*'===t[0]||'all'===t[0])return C(this.Elem[0]);var a=C(this.Elem[0]);return t[0]in a?a[t[0]]:''}return 2===t.length||3===t.length?this.each((e=>{var n;(n=e.style).setProperty.apply(n,t)})):this}},{key:'removeStyle',value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return D(t)||0===this.length?this:this.each((e=>{t.forEach((t=>{e.style.removeProperty(t)}))}))}},{key:'scrollTop',value:function(e){return 0===this.length?this:j(e)?this.Elem[0]===window?window.pageYOffset:this.Elem[0].scrollTop:this.each((t=>{t.scrollTop=e}))}},{key:'scrollLeft',value:function(e){return 0===this.length?this:D(e)?this.Elem[0]===window?window.pageXOffset:this.Elem[0].scrollLeft:this.each((t=>{t.scrollLeft=e}))}},{key:'outerWidth',value:function(e){return this._sizeOut('width',e)}},{key:'outerHeight',value:function(e){return this._sizeOut('height',e)}},{key:'offset',value:function(e){if(0===this.length)return this;if(D(e)){var t=this.Elem[0].getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+r,left:t.left+n}}return this.each((t=>{var n=le(t).offset(),r=e.top,i=e.left,a=C(t).position;'static'===a&&le(t).style('position','relative'),-1===['absolute','fixed'].indexOf(a)&&(r-=n.top,i-=n.left),le(t).style({top:r,left:i})}))}},{key:'position',value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(0!==this.length){if('boolean'!=typeof e)try{e=JSON.parse(e)}catch(t){e=!1}var t=0,n=0;if(e){var r=C(this.Elem[0]);t=parseInt(r['margin-left']),n=parseInt(r['margin-top'])}return{top:this.Elem[0].offsetTop-n,left:this.Elem[0].offsetLeft-t}}}},{key:'left',value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return 0===this.length?NaN:('boolean'==typeof e&&(t=e,e=void 0),D(e)?this.position(t).left:this.style('left',isNaN(e)?e:e+'px'))}},{key:'top',value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return 0===this.length?NaN:('boolean'==typeof e&&(t=e,e=void 0),D(e)?this.position(t).top:this.style('top',isNaN(e)?e:e+'px'))}},{key:'innerWidth',value:function(){return this.Elem[0]===window?window.innerWidth:this.Elem[0].clientWidth}},{key:'innerHeight',value:function(){return this.Elem[0].clientHeight}},{key:'height',value:function(e){return this._size('height',e)}},{key:'width',value:function(e){return this._size('width',e)}},{key:'hide',value:function(e){var t=this;return this.each((n=>{var r=le(n).style('display'),i=le(n).style('opacity');'none'!=r&&0!=parseInt(i)&&(le(n).origin('display',r),le(n).origin('opacity',i),le(n).style({display:'none',opacity:0})),A(e)&&e.call(t,n)}))}},{key:'show',value:function(e){var t=this;return this.each((n=>{var r=le(n).origin('display',void 0,'block'),i=le(n).origin('opacity',void 0,'1'),a='block',o=1;r&&'none'!==r&&(a=r),i&&0!==i&&(o=i),le(n).style({display:a,opacity:o}),A(e)&&e.call(t,n)}))}},{key:'fadeIn',value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600;this.style({opacity:0,display:''}),O(e)&&(n=e,e=function(e){});var r=+new Date,i=this.Elem[0],a=function e(){t.style('opacity',+i.style.opacity+(new Date-r)/n),r=+new Date,+i.style.opacity<1&&(window.requestAnimationFrame&&requestAnimationFrame(e)||setTimeout(e,16))};return a(),A(e)&&e.apply(this,[i]),this}},{key:'fadeOut',value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600;this.style({opacity:1,display:''});var n=+new Date,r=this.Elem[0],i=function e(){r.style.opacity=Number(+r.style.opacity-(new Date-n)/t).toFixed(4),n=+new Date,-r.style.opacity<=0&&(window.requestAnimationFrame&&requestAnimationFrame(e)||setTimeout(e,16))};return i(),A(e)&&e.apply(this,[r]),this}},{key:'attr',value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(0===this.length)return this;if(0===n.length){if(this.Elem[0].hasAttributes()){var i=this.Elem[0].attributes;return Array.from(i).forEach((t=>{e.Elem[0].setAttribute(t.nodeName,t.nodeValue)})),i}return this}if(1===n.length){if(S(n[0])){var a={},o=0;return this.each((e=>{var t=e.getAttribute('id'),r=j(t)?e.tagName+o:t;a[r]={},n[0].forEach((t=>{e.hasAttributes(t)?a[r][t]=e.getAttribute(t):a[r][t]=!1})),o++})),a}if(N(n[0]))return this.each((e=>{for(var t in n[0])if(M(n[0],t)){var r=W(n[0][t]);t in e?e[t]=r:e.setAttribute(t,r)}}));if(x(n[0]))return!!this.Elem[0].hasAttributes(n[0])&&this.Elem[0].getAttribute(n[0]);if(A(n[0]))return this.each((e=>{if(e.hasAttributes()){var t=e.attributes;Array.from(t).forEach((t=>{n[0].call(e,[t.nodeName,t.nodeValue,t])}))}}))}return this.each((e=>{var t=n[0],r=W(n[1]);t in e?e[t]=r:e.setAttribute(t,r)}))}},{key:'removeAttr',value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.each((e=>{var n=[];1!=t.length||S(t[0])?n=[].slice(t):n.push(t[0]),n.forEach((t=>{e.removeAttribute(t)}))}))}},{key:'hasAttr',value:function(e){return!D(e)&&this.Elem[0].hasAttribute(e)}},{key:'toggleAttr',value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=this;return this.each((r=>{e in r&&r[e]!==t&&(r[e]=t),!D(e)&&j(t)?r.hasAttributes(e)&&r.removeAttribute(e):(n.Elem=[r],n.attr(e,t))}))}},{key:'cleanAttr',value:function(){return this.each((e=>{e.hasAttributes()&&e.attributes.forEach((t=>{e.removeAttribute(t.nodeName)}))}))}},{key:'data',value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 0===this.length?this:(e=this._ds).data.apply(e,[this.Elem].concat(n))}},{key:'removeData',value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.each((t=>{var r;(r=e._ds).remove.apply(r,[t].concat(n))}))}},{key:'hasData',value:function(e){return!D(e)&&(this._ds.has(this.Elem[0],e)?this._ds.get(this.Elem[0],e):!!M(this.Elem[0].dataset,e)||this.hasAttr('data-'.concat(e)))}},{key:'toggleData',value:function(e,t){return 0!==arguments.length&&(this.hasData()?this._ds.access(this.ELem[0],e,t):this.toggleAttr('data-'.concat(e),t))}},{key:'on',value:function(e,t,n,r){var i=this;return this.each((a=>{i._ev.on(a,e,t,n,r)}))}},{key:'off',value:function(e,t,n,r){var i=this;return this.each((a=>{i._ev.off(a,e,t,n,r)}))}},{key:'one',value:function(e,t,n,r){var i=this;return this.each((a=>{i._ev.one(a,e,t,n,r)}))}},{key:'fire',value:function(e,t){var n,r=this,i=V(e);if(['submit','reset'].indexOf(i)>-1){if('FORM'===this.Elem[0].nodeName)this.Elem[0][i].call(this.Elem[0]);else{var a=this.parents('form');a.Elem[0][i].call(a.Elem[0])}return this}return ce.indexOf(i)>-1&&this.Elem[0][i].call(this.Elem[0]),n=this._ev.createEv(e,t),this.each((e=>{var t=le(e).data('customEvent'),a={};a[i]=n,j(t)?le(e).data('customEvent',a):le(e).data('customEvent',_({},t,a)),r._ev.fire(e,n)}))}},{key:'trigger',value:function(e,t){var n=this,r=V(e);return this.each((i=>{if(ce.indexOf(r)>-1)i[r].call(i);else if(le(i).hasData('customEvent')){var a=le(i).data('customEvent');!j(a)&&M(a,r)?n._ev.fire(i,a[r]):le(i).fire(e,t)}}))}},{key:'hover',value:function(e,t){var n=this;return this.each((r=>{n.on('mouseenter',e).on('mouseleave',t)}))}},{key:'getEvent',value:function(e,t){return this._ev.getEvents(this.Elem[0],e,t)}}],[{key:'addFn',value:function(e,t){return M(this,e)||(this.prototype[e]=t),this}}]),i}();function fe(e){return/(^#[0-9a-f]{3}$)|(^#[0-9a-f]{4}$)|(^#[0-9a-f]{6}$)|(^#[0-9a-f]{8}$)/i.test(e)}function de(e){if(!fe(e))return!1;var t=/^#([0-9a-f]{6})([0-9a-f]{2})$/i.exec(e);return t.length>2?Ee(t[2]):100}function ve(e){if(!fe(e))return!1;var t=/(^#[0-9a-f]{4}$)|(^#[0-9a-f]{8}$)/i.test(e),n=t?de(e):100;return{r:(e=+('0x'+(e=t?4==e.length?e.substring(1,4):e.substring(1,7):e.slice(1)).replace(e.length<5&&/./g,'$&$&')))>>16&255,g:e>>8&255,b:255&e,a:n}}function pe(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,i=function(e){var t=e.toString(16);return 1==t.length?t+t:t},a='#'+i(e)+i(t)+i(n);return r<100&&(a+=we(r)),a.toUpperCase()}function me(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;e/=255,t/=255,n/=255;var i=Math.max(e,t,n),a=Math.min(e,t,n),o=NaN,u=0,s=(i+a)/2,c=i-a;if(0!==c){switch(u=0===s||1===s?0:(i-s)/Math.min(s,1-s),i){case e:o=(t-n)/c+(t<n?6:0);break;case t:o=(n-e)/c+2;break;case n:o=(e-t)/c+4}o*=60}return{h:Math.round(o),s:Math.round(100*u),l:Math.round(100*s),a:r}}function ye(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return(n=>{var i=me(e,t,n,r),a=1/255*Math.min(e,Math.min(t,n));n=1-1/255*Math.max(e,Math.max(t,n));return{h:i.h,w:Math.round(100*a),b:Math.round(100*n),a:i.a}})(n)}function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;(e%=360)<0&&(e+=360),t/=100,n/=100;var i=function(r){var i=(r+e/30)%12,a=t*Math.min(n,1-n);return n-a*Math.max(-1,Math.min(i-3,Math.min(9-i,1)))};return{r:Math.round(255*i(0)),g:Math.round(255*i(8)),b:Math.round(255*i(4)),a:r}}function be(){var e,t,n,r,i,a,o,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,h=(s/=100)+(c/=100);switch(h>1&&(s=c=h),a=6*(u/=360)-(r=Math.floor(6*u)),0!=(1&r)&&(a=1-a),o=s+a*((i=1-c)-s),r){default:case 6:case 0:e=i,t=o,n=s;break;case 1:e=o,t=i,n=s;break;case 2:e=s,t=i,n=o;break;case 3:e=s,t=o,n=i;break;case 4:e=o,t=s,n=i;break;case 5:e=i,t=s,n=o}return{r:Math.round(255*e),g:Math.round(255*t),b:Math.round(255*n),a:l}}function we(e){return e=Math.max(0,Math.min(100,e)),Math.round(e/100*255).toString(16).padStart(2,'0').toUpperCase()}function Ee(e){return Math.round((parseInt(e,16)-0)/255*100)}function ke(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(fe(e))return ve(e);var n,r=/^([rgb|rgba|hsl|hsla|hwb]+)\(([\d]+),?\s?([\d%?]+),?\s?([\d%?]+),?\s?\/?\s?([\d%?]+)?\)$/gi.exec(e),i={};if(j(r))return e;switch(r[1]){case'rgb':case'rgba':i.r=parseInt(r[2]),i.g=parseInt(r[3]),i.b=parseInt(r[4]),i.a=parseInt(r[5]||100),n=i;break;case'hsl':case'hsla':i.h=parseInt(r[2]),i.s=parseInt(r[3]),i.l=parseInt(r[4]),i.a=parseInt(r[5]||100),n=t?ge(i.h,i.s,i.l,i.a):null;break;case'hwb':i.h=parseInt(r[2]),i.w=parseInt(r[3]),i.b=parseInt(r[4]),i.a=parseInt(r[5]||100),n=t?be(i.h,i.w,i.b,i.a):null}return t?n:i}['padding','margin','border'].forEach((function(e){he.addFn(e,(function(t,n){if(0!==this.length){if(x(t)&&0===t.indexOf(':')&&(n=t,t=void 0),D(t)){var r=C(this.Elem[0],null,D(n)?'':n);return'border'!==e?{top:parseInt(r[''.concat(e,'-top')]),right:parseInt(r[''.concat(e,'-right')]),bottom:parseInt(r[''.concat(e,'-bottom')]),left:parseInt(r[''.concat(e,'-left')])}:{top:parseInt(r['border-top-width']),right:parseInt(r['border-right-width']),bottom:parseInt(r['border-bottom-width']),left:parseInt(r['border-left-width'])}}return this.each((n=>{if(S(t))le(n).style(e,t.join(' '));else if(N(t)){var r={},i='border'===e?'-width':'';for(var a in t)M(t,a)&&(r[''.concat(e,'-').concat(a).concat(i)]=t[a]);le(n).style(r)}else le(n).style(e,t)}))}}))})),ce.forEach((function(e){he.addFn(e,(function(t,n,r){return arguments.length>0?this.on(e,t,n,r):this.fire(e,{detail:'Fire '+e})}))})),String.prototype.toObject=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return ke(this,e)};var _e=Object.freeze({__proto__:null,isHex:fe,AlphaHex:de,Hex2Rgb:ve,Hex2Hsl:function(e){if(!fe(e))return!1;var t=ve(e);return me(t.r,t.g,t.b,t.a)},Hex2Hwb:function(e){if(!fe(e))return!1;var t=ve(e);return ye(t.r,t.g,t.b)},isRGB:function(e){return N(e)&&M(e,'r')||/(^rgb\([\d,?\s?]+\)$)|(^rgba\(([\d,?\s?]+)\s?\/?\s?(([\d.\d]|[\d\%])+)\)$)/gi.test(e)},Rgb2Hex:pe,Rgb2Hsl:me,Rgb2Hwb:ye,Rgb2Hsp:function(e,t,n){var r=Math.sqrt(e*e*.299+t*t*.587+n*n*.114);return{hsp:r,isDark:!(r>127.5)}},isHSL:function(e){return N(e)&&M(e,'s')||/(^hsl\([\d%?,?\s?]+\)$)|(^hsla\(([\d%?,?\s?]+)\s?\/?\s?(([\d.\d]|[\d\%])+)\)$)/gi.test(e)},Hsl2Rgb:ge,Hsl2Hex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,i=ge(e,t,n,r);return pe(i.r,i.g,i.b,i.a)},Hsl2Hwb:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,i=ge(e,t,n,r),a=1/255*Math.min(i.r,Math.min(i.g,i.b)),o=1-1/255*Math.max(i.r,Math.max(i.g,i.b));return a=Math.round(a),o=Math.round(o),{h:Math.round(e),w:a,b:o,a:r}},isHwb:function(e){return N(e)&&M(e,'w')||/^hwb\(([\/?\d%?\s?]+)\)$/gi.test(e)},Hwb2Rgb:be,Hwb2Hex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,i=be(e,t,n,r);return pe(i.r,i.g,i.b,i.a)},Hwb2Hsl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,i=be(e,t,n,r);return me(i.r,i.g,i.b,i.a)},Color2Str:function(e){return N(e)?M(e,'r')?M(e,'a')&&e.a<100?'rgba('.concat(e.r,' ').concat(e.g,' ').concat(e.b,' / ').concat(e.a,'%)'):'rgb('.concat(e.r,' ').concat(e.g,' ').concat(e.b,')'):M(e,'w')?M(e,'a')&&e.a<100?'hwb('.concat(e.h,' ').concat(e.w,'% ').concat(e.b,'% / ').concat(e.a,')'):'hwb('.concat(e.h,' ').concat(e.w,'% ').concat(e.b,'%)'):M(e,'h')?M(e,'a')&&e.a<100?'hsla('.concat(e.h,' ').concat(e.s,'% ').concat(e.l,'% / ').concat(e.a,'%)'):'hsl('.concat(e.h,' ').concat(e.s,'% ').concat(e.l,'%)'):void 0:'#'.concat(e.toUpperCase())},Per2Hex:we,Hex2Per:Ee,lightOrDark:function(e,t){if(!fe(e))return e;var n=e.slice(1),r=parseInt(n,16),i=function(e){return e>255?e=255:e<0&&(e=0),e},a=i((r>>16)+t),o=i((255&r)+t),u=i((r>>8&255)+t);return'#'+String('000000'+(o|u<<8|a<<16).toString(16)).slice(-6)},ColorStr2Obj:ke}),xe={Colors:_e,Utils:X,template:function(e,t,n){var r,i,a,o='<%(.+?)%>',u=/(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g,s='with(obj) { var r=[];\n',c=0,l=function e(t,n){return s+=n?t.match(u)?''.concat(t,'\n'):'r.push('.concat(t,')\n'):''!==t?'r.push(\''.concat(t,'\')\n'):'',e};for(D(n)||(M(n,'beginToken')&&(o=o.replace('<%',n.beginToken)),M(n,'endToken')&&(o=o.replace('%>',n.endToken))),a=(r=new RegExp(o,'g')).exec(e);a;)l(e.slice(c,a.index).replace(/[\n]/g,' '))(a[1],!0),c=a.index+a[0].length,a=r.exec(e);l(e.substr(c,e.length-c).replace(/[\n]/g,' ')),s=(s+'return r.join(\'\') }').replace(/[\r\t]/g,' ');try{i=new Function('obj',s).apply(t,[t])}catch(e){}return i}};function Ne(e,t){return new he(e,t)}void 0===window._$&&(window._$=Ne);var Se=xe.Utils,Oe=xe.template,Ae=xe.Colors;Ne.template=Oe,Se.extend(Ne,Se),Se.extend(Ne,Ae),Se.extend(Ne,{addFn:function(e,t){return he.addFn.apply(he,[e,t])},global:function(){window.$=Ne},setFree$:function(){window.$===window._$&&(window.$=void 0)},noConflict:function(){return window.$===$&&(window.$=Ne),Ne},DOMLoad:function(e,t){'loading'!=document.readyState?isFunction(e)&&e():document.addEventListener('DOMContentLoaded',e,t||!1)},WLoad:function(e){return Ne(window).on('load',e)},beforeunload:function(e){return'string'==typeof e?Ne(window).on('beforeunload',(t=>(t.returnValue=e,e))):Ne(window).on('beforeunload',e)},Lazy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'',n=Ne('img'),r=Ne('picture'),i=Ne('[data-lazy-bg]'),a={root:document.querySelector('body'),rootMargin:'0px',threshold:1},o=Ne.extend({},a,e),u=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(Ne.hooks.run('before.lazy',e,t),e.isIntersecting){var n=e.target;if(Ne(n).hasData('lazy-bg')&&Ne(n).style('background-image','url(\''.concat(Ne(n).data('lazy-bg'),'\')')),'IMG'===n.nodeName&&(n.src=Ne(n).data('src'),Ne(n).hasData('srcset')&&(n.srcset=Ne(n).data('srcset'))),'PICTURE'===n.nodeName){var r=Ne(n).find('img');r.src=Ne(r).data('src'),Ne(r).hasData('srcset')&&(r.srcset=Ne(r).data('srcset'))}Ne(n).fadeIn(),t.unobserve(e.target)}Ne.hooks.run('after.lazy',e,t)}))}),o);return n.length>0&&n.each((e=>{'PICTURE'!==e.parentNode.nodeName&&(Ne(e).fadeOut(),e&&!Ne.empty(t)&&e.matches(t)||u.observe(e))})),r.length>0&&r.each((e=>{Ne(e).fadeOut(),e&&Ne.empty(t),u.observe(e)})),i.length>0&&i.each((e=>{Ne(e).fadeOut(),e&&Ne.empty(t),u.observe(e)})),n},hooks:{hook:{},add:function(e,t){var n=this.hook;n[e]=n[e]||[],n[e].push(t)},run:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(0!==n.length){var i=this.hook[e];if(!Ne.empty(i))for(var a=0;a<i.length;a++)i[a].apply(this,n)}}}});export{he as Fascino,Ne as _$};
//# sourceMappingURL=fascino-es.min.js.map
