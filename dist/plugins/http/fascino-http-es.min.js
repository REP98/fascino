/**
	* Fascino  
	* @version v1.0.1
	* @copyright 2021-2022 Robert Pérez.
	* @author Robert Pérez delfinmundo@gmail.com
	* 
	* @license Licensed under MIT
	*/
import t from'axios';import e from'camelcase';function r(t,e,r,n,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function n(t){return function(){var e=this,n=arguments;return new Promise(((o,a)=>{var i=t.apply(e,n);function u(t){r(i,o,a,u,c,'next',t)}function c(t){r(i,o,a,u,c,'throw',t)}u(void 0)}))}}var o={exports:{}},a={exports:{}};(t=>{function e(r){return t.exports=e='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?t=>typeof t:t=>t&&'function'==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?'symbol':typeof t,t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(a),function(t){var e=a.exports.default;function r(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
t.exports=r=function(){return n},t.exports.__esModule=!0,t.exports.default=t.exports;var n={},o=Object.prototype,a=o.hasOwnProperty,i='function'==typeof Symbol?Symbol:{},u=i.iterator||'@@iterator',c=i.asyncIterator||'@@asyncIterator',s=i.toStringTag||'@@toStringTag';function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},'')}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof v?e:v,a=Object.create(o.prototype),i=new j(n||[]);return a._invoke=((t,e,r)=>{var n='suspendedStart';return(o,a)=>{if('executing'===n)throw new Error('Generator is already running');if('completed'===n){if('throw'===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var u=k(i,r);if(u){if(u===p)continue;return u}}if('next'===r.method)r.sent=r._sent=r.arg;else if('throw'===r.method){if('suspendedStart'===n)throw n='completed',r.arg;r.dispatchException(r.arg)}else'return'===r.method&&r.abrupt('return',r.arg);n='executing';var c=h(t,e,r);if('normal'===c.type){if(n=r.done?'completed':'suspendedYield',c.arg===p)continue;return{value:c.arg,done:r.done}}'throw'===c.type&&(n='completed',r.method='throw',r.arg=c.arg)}}})(t,r,i),a}function h(t,e,r){try{return{type:'normal',arg:t.call(e,r)}}catch(t){return{type:'throw',arg:t}}}n.wrap=f;var p={};function v(){}function d(){}function y(){}var m={};l(m,u,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(S([])));b&&b!==o&&a.call(b,u)&&(m=b);var w=y.prototype=v.prototype=Object.create(m);function _(t){['next','throw','return'].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,r){function n(o,i,u,c){var s=h(t[o],t,i);if('throw'!==s.type){var l=s.arg,f=l.value;return f&&'object'==e(f)&&a.call(f,'__await')?r.resolve(f.__await).then((t=>{n('next',t,u,c)}),(t=>{n('throw',t,u,c)})):r.resolve(f).then((t=>{l.value=t,u(l)}),(t=>n('throw',t,u,c)))}c(s.arg)}var o;this._invoke=(t,e)=>{function a(){return new r(((r,o)=>{n(t,e,r,o)}))}return o=o?o.then(a,a):a()}}function k(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,'throw'===e.method){if(t.iterator.return&&(e.method='return',e.arg=void 0,k(t,e),'throw'===e.method))return p;e.method='throw',e.arg=new TypeError('The iterator does not provide a \'throw\' method')}return p}var n=h(r,t.iterator,e.arg);if('throw'===n.type)return e.method='throw',e.arg=n.arg,e.delegate=null,p;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,'return'!==e.method&&(e.method='next',e.arg=void 0),e.delegate=null,p):o:(e.method='throw',e.arg=new TypeError('iterator result is not an object'),e.delegate=null,p)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type='normal',delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:'root'}],t.forEach(O,this),this.reset(!0)}function S(t){if(t){var e=t[u];if(e)return e.call(t);if('function'==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(a.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=y,l(w,'constructor',y),l(y,'constructor',d),d.displayName=l(y,s,'GeneratorFunction'),n.isGeneratorFunction=t=>{var e='function'==typeof t&&t.constructor;return!!e&&(e===d||'GeneratorFunction'===(e.displayName||e.name))},n.mark=t=>(Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,s,'GeneratorFunction')),t.prototype=Object.create(w),t),n.awrap=t=>({__await:t}),_(x.prototype),l(x.prototype,c,(function(){return this})),n.AsyncIterator=x,n.async=(t,e,r,o,a)=>{void 0===a&&(a=Promise);var i=new x(f(t,e,r,o),a);return n.isGeneratorFunction(e)?i:i.next().then((t=>t.done?t.value:i.next()))},_(w),l(w,s,'Generator'),l(w,u,(function(){return this})),l(w,'toString',(()=>'[object Generator]')),n.keys=t=>{var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},n.values=S,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method='next',this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)'t'===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if('throw'===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return i.type='throw',i.arg=t,e.next=r,n&&(e.method='next',e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if('root'===o.tryLoc)return r('end');if(o.tryLoc<=this.prev){var u=a.call(o,'catchLoc'),c=a.call(o,'finallyLoc');if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error('try statement without catch or finally');if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,'finallyLoc')&&this.prev<n.finallyLoc){var o=n;break}}o&&('break'===t||'continue'===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method='next',this.next=o.finallyLoc,p):this.complete(i)},complete:function(t,e){if('throw'===t.type)throw t.arg;return'break'===t.type||'continue'===t.type?this.next=t.arg:'return'===t.type?(this.rval=this.arg=t.arg,this.method='return',this.next='end'):'normal'===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if('throw'===n.type){var o=n.arg;E(r)}return o}}throw new Error('illegal catch attempt')},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},'next'===this.method&&(this.arg=void 0),p}},n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(o);var i=o.exports(),u=i;try{regeneratorRuntime=i}catch(t){'object'==typeof globalThis?globalThis.regeneratorRuntime=i:Function('r','regeneratorRuntime = r')(i)}function c(t,e){if(!(t instanceof e))throw new TypeError('Cannot call a class as a function')}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e,r){return e&&s(t.prototype,e),r&&s(t,r),Object.defineProperty(t,'prototype',{writable:!1}),t}function f(t){return f='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?t=>typeof t:t=>t&&'function'==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?'symbol':typeof t,f(t)}var h=e,p=String.prototype.valueOf,v=Object.prototype.toString,y=Object.defineProperty,m=Object.getOwnPropertyDescriptor,g=Array.isArray;function b(t,e){y&&'__proto__'===e.name?y(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue}function w(t,e){if('__proto__'===e){if(!j(t,e))return;if(m)return m(t,e).value}return t[e]}function _(){for(var t,e,r,n,o,a,i,u,c,s=0,l=arguments.length,h=new Array(l),p=0;p<l;p++)h[p]=arguments[p];if(0!==h.length){for(i=h[0],s=h.length,c=1,u=!1,'boolean'==typeof i&&(u=i,i=h[1]||{},c=2),(S(i)||'object'!==f(i)&&'function'!=typeof i)&&(i={});c<s;++c)if(null!==h[c])for(e in t=h[c])j(t,e)&&(r=w(i,e),i!==(n=w(t,e))&&(o=O(n),u&&n&&(k(n)||o)?(o?(o=!1,a=r&&O(r)?r:[]):a=r&&k(r)?r:{},b(i,{name:e,newValue:_(u,a,n)})):L(n)||b(i,{name:e,newValue:n})));return i}}function x(t){var e='function'==typeof Symbol&&'symbol'===f(Symbol.toStringTag);return'string'==typeof t||'object'===f(t)&&(e?(t=>{try{return p.call(t),!0}catch(t){return!1}})(t):'[object String]'===v.call(t))}function k(t){var e;return!(!t||'[object Object]'!==v.call(t))&&(!(e=void 0!==t.prototype)||e.constructor&&'function'==typeof e.constructor)}function O(t){return!!t&&(t instanceof Array||g(t)||t.length>=0&&t.splice instanceof Function)}function E(t){if(!t)return!1;var e=v.call(t);return'[object Function]'===e||'function'==typeof t&&'[object RegExp]'!==e||'undefined'!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}function j(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t){var e=[void 0,null,!1,0,0,'','0','0.0',undefined],r=e.length;if(void 0===t)return!0;for(var n=0;n<r;n++)if(t===e[n])return!0;if(O(t))return 0===t.length;if(k(t)){var o=0;for(var a in t)j(t,a)&&o++;return 0===o}return!1}function L(t){return null==t}function D(t){return t instanceof URL||/(http|https|ftp):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(t)}function N(t,e,r){if(!S(t)){if('function'==typeof t.forEach)return t.forEach(e,r);if(!E(e))return t;var n,o,a=Object(t),i=a.length>>>0;for(o in 0===i&&k(a)&&(i=Object.keys(a).length),S(r)||(n=r),a)if(j(a,o)){var u=a[o];e.call(n,u,o,a)}}}function A(t){return'string'!=typeof t?void 0:t.replace(/-/g,'').toLowerCase()}function T(t){try{return JSON.parse(t)}catch(e){return t}}function $(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:' ';return S(t)?[]:-1===t.indexOf(e)?[t]:O(t)?t:t.split(e)}function P(t){var e=document.createElement('a');return e.href=t,!L(e.href)&&D(e.href)?e.href:t}function C(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D(t)||(t=P(t));var r=new URL(t);return Object.keys(e).forEach((t=>r.searchParams.append(t,e[t]))),r}var I=function(){function t(){c(this,t)}return l(t,[{key:'stringify',value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'&';return Object.keys(e).map((n=>k(e[n])||Array.isArray(e[n])?''.concat(encodeURIComponent(n),'[]=').concat((new t).stringify(e[n],r)):''.concat(encodeURIComponent(n),'=').concat(encodeURIComponent(e[n])))).join(r)}},{key:'parse',value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'&',n={};return t.split(r).forEach((t=>{var r=t.split('='),o=decodeURIComponent(r[0]),a=decodeURIComponent(r[1]);o.indexOf('[]')>-1?n[o.replace('[]','')]=e.parse(a):n[o]=a})),n}}]),t}(),U=-1,R=function(){function t(){c(this,t),this.UID='FSData',U++,this.ID=U}return l(t,[{key:'acceptData',value:function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}},{key:'acceptDataSet',value:function(t){return this.acceptData(t)&&!L(t.dataset)}},{key:'storage',value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t[this.UID];return r||(r={},this.acceptData(t)&&(t.nodeType?t[this.UID]=r:y(t,this.UID,{value:r,configurable:e}))),r}},{key:'set',value:function(t,e,r){var n=this.storage(t);if(x(e))n[h(e)]=r;else for(var o in e)j(e,o)&&(n[h(o)]=e[o]);return n}},{key:'get',value:function(t,e){return L(e)?this.storage(t):!(!t[this.UID]||!t[this.UID][e])&&t[this.UID][e]}},{key:'access',value:function(t,e,r){return L(e)||e&&x(e)&&L(r)?this.get(t,e):(this.set(t,e,r),L(r)?e:r)}},{key:'has',value:function(t,e){return L(e)?!L(this.storage(t)):!1!==this.get(t,e)||!(!t.hasAttributes||!t.hasAttributes('data-'.concat(e)))&&t.getAttribute('data-'.concat(e))}},{key:'remove',value:function(t,e){var r,n=t[this.UID];if(!L(n)){if(!L(e)){r=(e=O(e)?e.map(h):(e=h(e))in n?[e]:e.match(/[^\x20\t\r\n\f]+/g)||[]).length;for(;r--;)delete n[e[r]]}return L(e)&&L(n)&&(t.nodeType?t[this.UID]=void 0:delete t[this.UID]),!0}if(!L(this.data(t))&&(this.remove(t,e),this.acceptDataSet(t)))for(attrs=t.attributes,r=attrs.length;r--;)if(attrs[r]){var o=attrs[r].name;0===o.indexOf('data-')&&t.removeAttribute(o)}}},{key:'attrToStorage',value:function(t,e,r){var n;return S(r)&&1===t.nodeType&&(n='data-'+e.replace(/[A-Z]/g,'-$&').toLowerCase(),'string'==typeof(r=t.getAttribute(n))?(r=T(r),this.set(t,e,r)):r=void 0),r}},{key:'data',value:function(t){for(var e,r,n,o,a=this,i=arguments.length,u=new Array(i>1?i-1:0),c=1;c<i;c++)u[c-1]=arguments[c];if(L(t.length)?(o=t,t=[t]):o=t[0],0===u.length){if(e=this.get(o),this.acceptDataSet(o))for(n=(r=o.attributes).length;n--;)if(r[n]){var s=r[n].name;0===s.indexOf('data-')&&(s=h(s.slice(5)),this.attrToStorage(o,s,e[s]))}return e}if(1===u.length){if(O(u[0])){var l={},f=0;return N(t,(t=>{var e=t.getAttribute('id'),r=L(e)?o.tagName+f:e;u[0].forEach((e=>{l[r]=l[r]||{};var n=a.get(t,e);L(n)&&1===t.nodeType&&(n=T(n=t.hasAttributes('data-'.concat(e))?t.getAttribute('data-'.concat(e)):n)),l[r][e]=n})),f++})),l}if(k(u[0]))return N(t,(t=>{for(var e in u[0])if(j(u[0],e)){var r=T(u[0][e]);a.set(t,e,r)}}));if(x(u[0])){var p=this.get(o,u[0]);return p&&!L(p)||1===o.nodeType&&(p=T(p=o.hasAttributes('data-'.concat(u[0]))?o.getAttribute('data-'.concat(u[0])):p)),p}}return N(t,(t=>{a.set(t,u[0],u[1])}))}}]),t}();function F(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var G=['blur','focus','resize','scroll','click','dblclick','mousedown','mouseup','mousemove','mouseover','mouseout','mouseenter','mouseleave','change','select','submit','keydown','keypress','keyup','contextmenu','touchstart','touchend','touchmove','touchcancel'],M=function(){function t(){c(this,t),F(this,'_ds',new R),F(this,'_eventName','fsEvent')}return l(t,[{key:'_add',value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.addEventListener(e,r,n)}},{key:'_remove',value:function(t,e,r,n){return L(n)&&(n=!0),t.removeEventListener(e,r,n)}},{key:'_dispatch',value:function(t,e){return t.dispatchEvent(e)}},{key:'_createEvent',value:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=j(r,'detail')?_({},{bubbles:!0,cancelable:!0,detail:null},r):{bubbles:!0,cancelable:!0,detail:r},new CustomEvent(t,e)}},{key:'_setData',value:function(t,e,r){if(this._ds.acceptData(t)&&t.self!==window){var n=this._ds.has(t,this._eventName)?this._ds.get(t,this._eventName):this._ds.access(t,this._eventName,{}),o=h(e);$(e,'.');var a={};return a[this._eventName]=n,a[this._eventName][o]=o in n==!0?a[this._eventName][o]:[],a[this._eventName][o].push(r),this._ds.set(t,a)}}},{key:'_getData',value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,n=this._ds.get(t,this._eventName);return L(n)?{}:L(e)?n:(e=h(e))in n!=!1&&(-1===r?n[e]:n[e][r])}},{key:'_hasData',value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(this._ds.has(t,this._eventName)){var n=this._ds.get(t,this._eventName);if(!S(n)&&h(e)in n)return!(r>-1)||n[h(e)].indexOf(r)>-1}return!1}},{key:'_removeData',value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(this._ds.has(t,this._eventName)){var n=this._getData(t,e,r);if(L(e))return this._ds.set(t,this._eventName,{}),!0;var o=h(e);if(o in n)return r>-1?delete n[o][r]:delete n[o],this._ds.set(t,this._eventName,d),this}return!1}},{key:'_off',value:function(t){return this._ds.remove(t,this._eventName),this}},{key:'_getNS',value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.shift(),n=t.join('.');return e?n:{name:r,ns:n}}},{key:'getEvents',value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return this._getData(t,e,r)}},{key:'on',value:function(t,e,r,n,o){var a=this;return L(t)?this:(E(r)&&(o=n,n=r,r=void 0),k(o)||(o={}),$(e,' ').forEach((i=>{var u=$(i,'.'),c=a._getNS(u,!1),s=c.ns,l=c.name,f=function(i){var u=i.target;if(r)for(;u&&u!==t;){if(Element.prototype.matches.call(u,r)&&(n.call(u,i),i.isPropagationStopped)){i.stopImmediatePropagation();break}u=u.parentNode}else n.call(t,i);L(o.once)||a.off(t,e,r,o)};y(f,'name',{value:n.name&&''!==n.name?n.name:'func_event_'.concat(l,'_').concat(L(s)?(new Date).getTime():s)});var h=G.indexOf(l)>-1?l:i;a._add(t,h,f,!L(o.capture)&&o.capture),a._setData(t,i,{event:i,handler:f,selector:r,ns:s,options:!L(o)&&o})})),t)}},{key:'one',value:function(t,e,r,n,o){return k(o)||(o={}),o.once=!0,this.on.apply(this,[t,e,r,n,o])}},{key:'off',value:function(t,e,r,n){var o=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;k(r)&&(n=r,r=null),isNaN(n)||(a=n,n={}),k(n)||(n={});var i=this._getData(t);if(L(e)||'all'===e.toLowerCase()||'*'===e){var u=(()=>{var e=o;if(i){for(var r in i){if(j(i,r))i[r].forEach((r=>{e._remove(t,r.event,r.handler,r.options)}))}o._off()}return{v:t}})();if('object'===f(u))return u.v}var c=$(e,' ');return c.forEach((e=>{var r=$(e,'.'),u=r.length>1?o._getNS(r,!0):{name:r[0],ns:''},c=A(u.name);if(n.ns?n.ns:u.ns,j(i,c)){var s=i[c][a];o._remove(t,s.event,s.handler,s.options),o._removeData(t,e,a)}})),t}},{key:'fire',value:function(t,e){return this._dispatch(t,e)}},{key:'createEv',value:function(t,e){return this._createEvent(t,e)}}]),t}();function H(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((e=>Object.getOwnPropertyDescriptor(t,e).enumerable))),r.push.apply(r,n)}return r}function J(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?H(Object(r),!0).forEach((e=>{F(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((e=>{Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function V(t,e){var r='undefined'!=typeof Symbol&&t[Symbol.iterator]||t['@@iterator'];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if('string'==typeof t)return z(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);'Object'===r&&t.constructor&&(r=t.constructor.name);if('Map'===r||'Set'===r)return Array.from(t);if('Arguments'===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z(t,e)}(t))||e&&t&&'number'==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError('Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var B={method:null,headers:null,body:null,mode:null,credentials:null,cache:null,redirect:null,typeResponse:'json',mime:null};function Y(t){if(t instanceof Request)return t;if(O(t)){var e=t.shift();return t.length>0?C(e,t[0]):C(e)}return k(t)?C(t.url,t.params):t}function q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=Y(t.getAttribute('action')),o=['mode','credentials','cache','redirect','type-response','mime'];return r.method=t.getAttribute('method').toUpperCase(),t.hasAttribute('enctype')&&(r.headers={},r.headers['Content-Type']=t.getAttribute('enctype')),r.body=new FormData(t),N(o,(e=>{t.hasAttribute('data-'.concat(e))&&(r[h(e)]=t.getAttribute('data-'.concat(e)))})),r=_$.extend({},r,e),{url:n,obj:Z(_$.extend({},B,r))}}function Z(t){if(!k(t))return!1;var e=_({},B,t),r={};return'post'!==e.method.toLowerCase()&&L(e.headers)&&(e.headers=new Headers({'Content-Type':'application/x-www-form-urlencoded'})),N(e,((t,e)=>{L(t)||('headers'==e?t instanceof Headers?r[e]=t:k(t)&&(r[e]=new Headers(t)):'body'==e?r[e]=t:'credentials'==e?['omit','same-origin','include'].indexOf(t)>-1&&(r[e]=t):'cache'==e?['default','no-store','reload','no-cache','force-cache','only-if-cached'].indexOf(t)>-1&&(r[e]=t):r[e]=t)})),!L(r)&&r}var K=function(t){var e,r,o,a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=!1,s=[],l=null,f=null;if(t instanceof HTMLFormElement){var h=q(t,i);e=h.url,r=h.obj}else e=Y(t),r=Z(i);o=r.typeResponse,a=r.mime,delete r.typeResponse,delete r.mime;var p=function(){c=!1,s=[],l=null,f=new AbortController},v=function(){var t=n(u.mark((function t(e){var r,n,o,a,i,l,f,h,p,v,d,y,m,g,b,w,_,x=arguments;return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=x.length>1&&void 0!==x[1]?x[1]:'json',n=x.length>2&&void 0!==x[2]?x[2]:null,o=e.body.getReader(),a=+e.headers.get('content-length'),i=0;case 4:if(!c){t.next=16;break}return t.next=7,o.read();case 7:l=t.sent,f=l.done,h=l.value,p={detail:{received:i,length:a,loading:c}},v=new CustomEvent('fetch-progress',p),d=new CustomEvent('fetch-finished',p),f?(c=!1,window.dispatchEvent(d)):(s.push(h),i+=h.length,window.dispatchEvent(v)),t.next=4;break;case 16:y=new Uint8Array(i),m=0,g=V(s);try{for(g.s();!(b=g.n()).done;)w=b.value,y.set(w,m),m+=w.length}catch(t){g.e(t)}finally{g.f()}if('json'!==r.toLowerCase()){t.next=30;break}return _=new TextDecoder('utf-8').decode(y),t.prev=21,t.abrupt('return',JSON.parse(_));case 25:return t.prev=25,t.t0=t.catch(21),t.abrupt('return',_);case 28:t.next=39;break;case 30:if('blob'!==r.toLowerCase()){t.next=38;break}if(L(n)){t.next=35;break}return t.abrupt('return',new Blob([y],{type:n}));case 35:return t.abrupt('return',new Blob([y]));case 36:t.next=39;break;case 38:return t.abrupt('return',new TextDecoder('utf-8').decode(y));case 39:case'end':return t.stop()}}),t,null,[[21,25]])})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=n(u.mark((function t(){var n,i;return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(),c=!0,n=f.signal,t.prev=3,t.next=6,fetch(e,J({signal:n},r));case 6:if(!((i=t.sent).status>=200&&i.status<300)){t.next=13;break}return t.next=10,v(i,o,a);case 10:return t.abrupt('return',t.sent);case 13:throw new Error(i.statusText);case 14:t.next=21;break;case 16:return t.prev=16,t.t0=t.catch(3),l=t.t0,t.abrupt('return',l);case 21:return t.prev=21,c=!1,t.finish(21);case 24:case'end':return t.stop()}}),t,null,[[3,16,21,24]])})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=new CustomEvent('fetch-abort',{detail:{status:'abourt'}});f.abort(),p(),window.dispatchEvent(t)};return{start:d,cancel:y}},Q=function(t){return-1!==['GET','JSON','SCRIPT'].indexOf(t)};if(void 0!==window._$){_$.extend(_$,{ft:K,axios:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.create(e)}});_$.each(['get','post','put','patch','delete','json','head'],(function(t){_$[t]=function(){var e=n(u.mark((function e(r){var n,o,a,i,c,s,l,f,h=arguments;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.length>1&&void 0!==h[1]?h[1]:null,o=h.length>2&&void 0!==h[2]?h[2]:{},a=t.toUpperCase(),i=Q(a)&&!_$.not(n)?{url:r,params:n}:r,c={method:Q(a)?'get':a.toLowerCase(),body:Q(a)?null:n,typeResponse:'JSON'===a?'json':'text'},s=_$.ft(i,_$.extend({},c,o)),l=s.start,f=s.cancel,_$.ftCancel=f,e.next=7,l();case 7:return e.abrupt('return',e.sent);case 8:case'end':return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),_$.extend(_$,{getscript:function(t,e,r,n){return _$.isFunction(e)||_$.empty(e)||(r=e),_$.get(t,r,option).then((t=>{var r=responce;_$.script(r),_$.isFunction(e)&&e(r)}))},serialize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'&';return(new I).stringify(t,e)},unserialize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'&';return(new I).parse(t,e)}}),_$.addFn('load',(function(t,e,r){var n=this;if(0===this.length)return null;var o='get';return r&&_$.hasProp(r,'method')&&'GET'!==r.method.toUpperCase()&&(o=r.method.toLowerCase()),_$.hasProp(_$,o)?_$[o](t,e,r).then((t=>{n.each((e=>{_$(e).html(t)}))})).catch((t=>{})):null})),_$(document).on('submit.ns.fetch','[data-fetch]',(function(t){var e=this;'FORM'===this.nodeName&&(t.preventDefault(),K(this).start().then((r=>{_$.hooks.run('fetch-submit-'.concat(_$(e).attr('id')),r,t,e);var n=new M,o=n.createEv('fetch-submit',{detail:{form:e,events:t,response:r}});n.fire(e,o)})))}))}var W={axios:t,ft:K};export{W as default};
//# sourceMappingURL=fascino-http-es.min.js.map
