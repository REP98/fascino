/**
	* Fascino  
	* @version v1.0.1
	* @copyright 2021-2022 Robert Pérez.
	* @author Robert Pérez delfinmundo@gmail.com
	* 
	* @license Licensed under MIT
	*/
function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,n){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},t(e,n)}function n(e){return n='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?e=>typeof e:e=>e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e,n(e)}function r(e,t){if(t&&('object'===n(t)||'function'==typeof t))return t;if(void 0!==t)throw new TypeError('Derived constructors may only return object or undefined');return function(e){if(void 0===e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return e}(e)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function i(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(()=>{}))),!0}catch(e){return!1}}function a(e,n,r){return a=i()?Reflect.construct.bind():function(e,n,r){var o=[null];o.push.apply(o,n);var i=new(Function.bind.apply(e,o));return r&&t(i,r.prototype),i},a.apply(null,arguments)}function s(e){var n='function'==typeof Map?new Map:void 0;return s=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf('[native code]')))return e;var r;if('function'!=typeof e)throw new TypeError('Super expression must either be null or a function');if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,i)}function i(){return a(e,arguments,o(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t(i,e)},s(e)}function u(e){var t=function(){if('undefined'==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if('function'==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(()=>{}))),!0}catch(e){return!1}}();return function(){var n,i=o(e);if(t){var a=o(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r(this,n)}}if(void 0===_$||'function'!=typeof _$)throw new Error('Fascino is required');var l=function(n){!function(e,n){if('function'!=typeof n&&null!==n)throw new TypeError('Super expression must either be null or a function');e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,'prototype',{writable:!1}),n&&t(e,n)}(l,s(HTMLElement));var r,o,i,a=u(l);function l(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}(this,l),(e=a.call(this)).attachShadow({mode:'open'}),e._createChildren(),e.shadowRoot.append(e.wrapper.get(0)),e}return r=l,o=[{key:'connectedCallback',value:function(){this.isConnected&&(this.max=_$(this).hasAttr('max')?_$(this).attr('max'):100,this.value=_$(this).hasAttr('value')?_$(this).attr('value'):0,this.speed=_$(this).hasAttr('speed')?_$(this).attr('speed'):.2,this._updateProgress(this.max,this.speed,this.value),this._createStyle())}},{key:'disconnectedCallback',value:function(){_$(this).remove()}},{key:'attributeChangedCallback',value:function(e,t,n){'value'==e?this.setValue(parseFloat(n)):'bg'==e?this.setBg(n):'value-bg'==e?this.setBgValue(n):'size'==e?this.setSize(n):'speed'==e?this.setSpeed(n):'max'==e&&(this._updateProgress(parseFloat(n),this.speed,this.value),this.setValue(this.value))}},{key:'_createChildren',value:function(){var e=_$('<div/>'),t=_$('<div/>');e.addClass('_progressbar-wrapper'),t.addClass('_progressbar-value'),t.appendTo(e),this.valueElement=t,this.wrapper=e}},{key:'_updateProgress',value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.max=parseInt(e>0?e:100),this.speed=parseFloat(t>0?t:.2),_$.not(n)||(n=parseFloat(n))>e&&(n=e),this.value=n}},{key:'_createStyle',value:function(){_$(this).style({'vertical-align':'baseline',appearance:'auto','-moz-default-appearance':'progress-bar',display:'inline-block',border:'0px','background-color':'#e6e6e6',width:'100%','min-height':'2px',height:'0.5em'}),this.wrapper.style({width:'100%',height:'100%',display:'block'}),this.valueElement.style({height:'100%',width:'0%','max-width':'100%',display:'block','background-color':'#CF142B',transition:'width '.concat(this.speed,'s ease-in-out, background-color .15s ease-in')}),this.setValue(this.value),this.setSize(),this.setBgValue(),this.setBg()}},{key:'_getPercentage',value:function(e){return Math.abs(parseFloat(e)/this.max*100)}},{key:'setSize',value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=_$.not(e)?_$(this).attr('size'):e;_$.not(t)||('small'===t.toLowerCase()?_$(this).height('0.1em'):'large'===t.toLowerCase()?_$(this).height('1em'):_$(this).height('0.5em'))}},{key:'setBgValue',value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=_$.not(e)?_$(this).attr('value-bg'):e;_$.not(t)||this.valueElement.style('background-color',t)}},{key:'setBg',value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=_$.not(e)?_$(this).attr('bg'):e;_$.not(t)||_$(this).style('background-color',t)}},{key:'setValue',value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=parseInt(e);t>this.max&&(t=this.max),t>-1&&(this.valueElement.style('width',this._getPercentage(t)+'%'),this.value=t)}},{key:'setSpeed',value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=_$.not(e)?_$(this).attr('speed'):e;_$.not(t)||(this._updateProgress(this.max,parseFloat(t),this.value),this.setValue(this.value))}},{key:'getValue',value:function(){return this.value}}],i=[{key:'observedAttributes',get:()=>['value','bg','value-bg','size','max','speed']}],o&&e(r.prototype,o),i&&e(r,i),Object.defineProperty(r,'prototype',{writable:!1}),l}();customElements.define('progress-bar',l),_$.addFn('progressVal',(function(e){return _$.not(e)?this.get(0).getValue():this.each((t=>{'PROGRESS-BAR'==t.nodeName&&t.setValue(e)}))})),_$.addFn('progressSet',(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(_$.not(t)){var n=this.get(0);return e in n?this[e]:null}return this.each((n=>{'PROGRESS-BAR'==n.nodeName&&(-1==['max','step','speed'].indexOf(e)?'bg'==e?n.setBg(t):'value-bg'==e?n.setBgValue(t):'size'==e&&n.setSize(t):n[e]=t)}))}));export{l as default};
//# sourceMappingURL=fascino-progress-es.min.js.map
